   
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Game Store</title>
        <meta name="A store for game equipments" content="Game store"></meta>
        <script src="https://aframe.io/releases/1.2.0/aframe.js"></script>
        <script src="https://unpkg.com/aframe-room-component/dist/aframe-room-component.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
        <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
        <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
        <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>

        <!-- Image link template to be reused. -->
        <script id="link" type="text/html">
            <a-entity class="link"
                geometry="primitive: plane; height: 1; width: 1"
                material="shader: flat; src: ${thumb}"
                event-set__mouseenter="scale: 1.2 1.2 1"
                event-set__mouseleave="scale: 1 1 1"
                event-set__click="_target: #model; _delay: 300; foo"
                proxy-event="event: click; to: #model; as: fade"
                sound="on: click; src: #click-sound"></a-entity>
        </script>  
    </head>
    <body>
        <script>
            AFRAME.registerComponent("foo", {
                init: function() {
                const model = document.getElementById('model')
                const nextButton = document.getElementById('card1')
                const nextModel = () => {
                    // Need to remove gltf-component first due to AFrame regression: https://github.com/aframevr/aframe/issues/4341
                    model.removeAttribute('gltf-model')
                    // Switch to next model in the list
                    model.setAttribute('gltf-model', `#ps5`)
                    model.setAttribute('position', { x: 0, y: 1.4, z: -2.5 });
                    model.setAttribute('scale', {x: 3, y: 3, z: 3});
                }
                nextButton.onclick = nextModel // Switch to the next model when the button is pressed.
                }
            })
        
            AFRAME.registerComponent("bar", {
                init: function() {
                const model = document.getElementById('model')
                const nextButton = document.getElementById('card2')
                const nextModel = () => {
                    // Need to remove gltf-component first due to AFrame regression: https://github.com/aframevr/aframe/issues/4341
                    model.removeAttribute('gltf-model')
                    // Switch to next model in the list
                    model.setAttribute('gltf-model', `#wii`)
                    model.setAttribute('position', { x: 0, y: 1.7, z: -2.5 });
                    model.setAttribute('scale', {x: 0.2, y: 0.2, z: 0.2});
        
                }
                nextButton.onclick = nextModel // Switch to the next model when the button is pressed.
                }
            })
            
            AFRAME.registerComponent("qaz", {
                init: function() {
                const model = document.getElementById('model')
                const nextButton = document.getElementById('card3')
                const nextModel = () => {
                    // Need to remove gltf-component first due to AFrame regression: https://github.com/aframevr/aframe/issues/4341
                    model.removeAttribute('gltf-model')
                    // Switch to next model in the list
                    model.setAttribute('gltf-model', `#xbox_one`)
                    model.setAttribute('position', { x: 0, y: 1.410, z: -2.470 });
                    model.setAttribute('scale', {x: 2, y: 2, z: 2});
        
                }
                nextButton.onclick = nextModel // Switch to the next model when the button is pressed.
                }
            })
       </script>
        <a-scene>
            <!-- Assets -->
            <a-assets>
                <!-- Wallpaper -->
                <img id="wallpaper-inside" src="wallpaper-inside.png">
                <img id="wallpaper-outside" src="wallpaper-outside.png">

                <!-- Sky & Ground -->
                <img crossorigin="anonymous" id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
                <img crossorigin="anonymous" id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">

                <!-- Card selectors -->
                <img id="ps5-thumb" crossorigin="anonymous" src="./assets/display_cards/ps5.png">
                <img id="wii-thumb" crossorigin="anonymous" src="./assets/display_cards/wii.png">
                <img id="xbox-one-thumb" crossorigin="anonymous" src="./assets/display_cards/xbox_one.png">  
                
                <!-- Products -->
                <a-asset-item id="ps5" src="./assets/ps5/scene.gltf"></a-asset-item>
                <a-asset-item id="wii" src="./assets/wii_console/scene.gltf"></a-asset-item>
                <a-asset-item id="xbox_one" src="./assets/xbox_one_slim/scene.gltf"></a-asset-item>
      
                <!-- Furniture -->
                <a-asset-item id="round_table" src="./assets/round_table/scene.gltf"></a-asset-item>
                <a-asset-item id="museum_display_table" src="./assets/museum_display_table/scene.gltf"></a-asset-item>
                <a-asset-item id="shelf" src="./assets/shelf/scene.gltf"></a-asset-item>
            </a-assets>
            
            <!-- Sky & Ground -->
            <a-sky height="2048" radius="30" src="#skyTexture" theta-length="90" width="2048" segments-height="5" segments-width="8"></a-sky>
            <a-plane src="#groundTexture" rotation="-90 0 0" position="0 -0.01 0" height="100" width="100"></a-plane>
                
            <!-- Store -->
                <!-- Outer room -->
                <rw-room id="outerRoom" position="0 0 0" outside="true" material="src:#wallpaper-outside; repeat:0.5 0.5;">
                    <rw-wall position="-3 0 -3" height="3"></rw-wall>
                    <rw-wall position=" 3 0 -3" height="3"></rw-wall>
                    <rw-wall position=" 3 0  3" height="3"></rw-wall>
                    <rw-wall position="-3 0  3" height="3">
                    <rw-doorhole id="frontOuter"></rw-doorhole>
                    <rw-doorlink from="#frontInner" to="#frontOuter" material="color:#FFF" position="3 0 0">   
                        <rw-floor></rw-floor>
                        <rw-ceiling></rw-ceiling>
                        <rw-sides></rw-sides>
                    </rw-doorlink>
                    </rw-wall>
                </rw-room>

                <!-- Room 1 -->
                <rw-room id="room1" position="-3 0 -3" width="6" length="6" height="3">
                    <rw-wall material="src:#wallpaper-inside; repeat:0.3 0.3;"></rw-wall>
                    <rw-wall material="src:#wallpaper-inside; repeat:0.3 0.3;"></rw-wall>
                    <rw-wall material="src:#wallpaper-inside; repeat:0.3 0.3;">
                    <rw-doorhole id="frontInner"></rw-doorhole>
                    </rw-wall>
                    <rw-wall material="src:#wallpaper-inside; repeat:0.5 0.5;"></rw-wall>
                    
                    <rw-floor material="color:#F88"></rw-floor>
                    <rw-ceiling material="color:#AAA"></rw-ceiling>
                </rw-room>
                
            <!-- CONTENTS ---------------------------------------------------------------------------------------------------------------->

            <!-- Image links. -->
            <a-entity id="links" layout="type: line; margin: 1.5" position="-1.5 0.7 -2">
                <a-entity foo id="card1" template="src: #link" data-src="#ps5" data-thumb="#ps5-thumb"></a-entity>
                <a-entity bar id="card2" template="src: #link" data-src="#wii" data-thumb="#wii-thumb"></a-entity>
                <a-entity qaz id="card3" template="src: #link" data-src="#xbox_one" data-thumb="#xbox-one-thumb"></a-entity>
            </a-entity>
                
            <!-- Table   -->
            <!-- <a-entity id="center_table" position="-1.000 0 -2.1" scale="1 1 1" gltf-model="#museum_display_table"></a-entity> -->
            <a-entity id="center_table2" position="0 0.7 -2.537" scale="2.4 1.7 1.8" gltf-model="#shelf"></a-entity>
                    
            
            <!-- Product -->
                <!-- Rotating objects -->
                <a-entity id="model" position="0 1.4 -2.5" scale="3 3 3" gltf-model="#ps5" 
                animation="property: rotation; from: 0 -30 0; to: 0 360 0; dur: 15000; easing: linear; loop: true;
                pauseEvents: mousedown;
                resumeEvents: mouseup;"
                
            ></a-entity>
                
            
            <!-- CONSTANT -------------------------------------------------------------------------------------------------------------------------->
            <!-- Camera controls -->
            <a-entity position="0 1.7 7">
                <a-entity camera look-controls wasd-controls>
                <a-entity position="0 0 -1.5"
                            geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.1;"
                            material="color: cyan; shader: flat"
                            cursor="maxDistance: 30; fuse: true" >
                </a-entity>
                </a-entity>
            </a-entity>

         </a-scene>
  </body>
</html>